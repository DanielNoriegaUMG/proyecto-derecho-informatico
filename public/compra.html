<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    <title>Muelle Digital</title>
</head>
<body>
    <!DOCTYPE html>
<html>
<head>
  <title>Listado de Compras</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
    <div class="container" id="container">
        <!-- <h1>Listado de Compras</h1> -->

      </div>
    </body>
    </html>


    <script>
        const container = document.getElementById('container');
        const compras = sessionStorage.getItem('misCompras');
        if(compras == null){
            const p = document.createElement('P');
            p.style.fontSize = '24px';
            p.innerText = "Ningun producto en tu carro de compras";
            container.appendChild(p);
        }else{
            carrito = JSON.parse(compras);
            carrito.forEach((compra) => {
                console.log(compra.title);
                console.log(compra.price);
                console.log(compra.img);
                console.log("---------");
            })
            const table = document.createElement('TABLE');
            const thead = document.createElement('THEAD');
            const tbody = document.createElement('TBODY');
            const headProduct = document.createElement('TH');
            const headPrice = document.createElement('TH');
            const headQuantity = document.createElement('TH');
            const headActions = document.createElement('TH');
            table.classList.add('table');
            thead.append(headProduct, headPrice, headQuantity, headActions);
            table.append(thead, tbody);
            const fragment = document.createDocumentFragment();
            carrito.forEach(compra => {
                let tr = document.createElement('TR');
                let title = document.createElement('TD');
                let img = document.createElement('TD');
                let quantity = document.createElement('TD');
                let price = document.createElement('TD');
                title.textContent = compra.title;
                img.innerHTML = `<img src="${compra.img}" alt="${compra.title}" style="width:80px; height:100px;">`
                img.style.width = '20px';
                img.style.height = '20px';
                quantity.textContent = compra.quantity;
                price.textContent = compra.price;
                tr.append(title, price, quantity, img);
                fragment.appendChild(tr);
            });

            container.appendChild(fragment);


            /*
            <table class="table">
              <thead>
                <tr>
                  <th>Producto</th>
                  <th>Precio</th>
                  <th>Cantidad</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Producto 1</td>
                  <td>$10.00</td>
                  <td>2</td>
                  <td>
                      <button class="btn btn-danger">
                        <i class="fa-sharp fa-solid fa-trash" style="color: #ffffff;"></i>
                      </button>
                  </td>
                </tr>
              </tbody>
            </table>
            */
        }
    </script>

    <script src="https://kit.fontawesome.com/314db632b8.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>